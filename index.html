<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HCNJRN7GQ6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HCNJRN7GQ6');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ„ÙØ²ÙŠÙˆÙ† Ø­Ù…Ø²Ø©</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body { background: #111; color: white; text-align: center; font-family: sans-serif; margin: 0; padding: 20px; }
        video { width: 100%; max-width: 800px; border: 2px solid #00ffcc; border-radius: 10px; }
        .btn-container { margin-top: 20px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
        button { padding: 15px; font-size: 16px; background: #333; color: #fff; border: 1px solid #555; border-radius: 5px; cursor: pointer; }
        button:hover { background: #00ffcc; color: #000; }
    </style>
</head>
<body>
    <h2>ğŸ”´ Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</h2>
    <video id="video" controls autoplay></video>
    <div id="list" class="btn-container">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ù†ÙˆØ§Øª...</div>

    <script>
        fetch('channels.json').then(r => r.json()).then(data => {
            const list = document.getElementById('list');
            list.innerHTML = "";
            data.forEach(ch => {
                let btn = document.createElement('button');
                btn.innerText = ch.name;
                btn.onclick = () => play(ch.url);
                list.appendChild(btn);
            });
        }).catch(() => document.getElementById('list').innerText = "ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø­ØªÙ‰ ÙŠØ¹Ù…Ù„ Ø§Ù„Ø±ÙˆØ¨ÙˆØª Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©..");

        function play(url) {
            var video = document.getElementById('video');
            if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() { video.play(); });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = url;
                video.play();
            }
        }
    </script>
</body>
</html>
